# vela-swagger-elm

Scripts for generating [Vela](https://go-vela.github.io/docs/) data types in [Elm](https://elm-lang.org/) using [Swagger Codegen](https://swagger.io/docs/open-source-tools/swagger-codegen/).

## Swagger Codegen

Swagger Codegen takes an api spec and converts it to a REST API client for a given language. It's pretty cool if your API is complex or constantly changing.

There are example files in this repo that were generated by `swagger-codegen` using the `api-spec.json` from Vela v0.23.2, check out `src/Data` for the data types and `src/Request` for the http requests.

More code gets generated by default, like a full REST API client, an entrypoint, a README, but all of that is being skipped using `.swagger-codegen-ignore`

Unfortunately it's not quite working.

## Run Scripts

### Prerequisites

Install [`swagger-codegen`](https://swagger.io/docs/open-source-tools/swagger-codegen/) VERSION 2.4.39.
   1. Vela is on OpenAPI 2.0.
   2. `swagger-codegen` does not have OpenAPI 3.0 support for Elm as of writing this.

### generate.sh

Run `generate.sh` to automatically download the spec from Vela's GitHub releases and generate Elm code.

```sh
./generate.sh
```
